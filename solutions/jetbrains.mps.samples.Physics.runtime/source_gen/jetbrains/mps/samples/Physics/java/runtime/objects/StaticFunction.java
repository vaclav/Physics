package jetbrains.mps.samples.Physics.java.runtime.objects;

/*Generated by MPS */


public abstract class StaticFunction<T, S extends SystemScope> implements Function<T, S> {
  private T cache;
  private boolean computed = false;
  protected abstract T computeOnce(World world, S scope, PhysicalEntity currentEntity, long time);

  @Override
  public final T compute(World world, S scope, PhysicalEntity currentEntity, long time) {
    if (!(computed)) {
      cache = computeOnce(world, scope, currentEntity, time);
      computed = true;
    }

    return cache;
  }
}
